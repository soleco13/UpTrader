# Django Tree Menu

Приложение для создания и отображения древовидных меню в Django.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Добавьте 'tree_menu' в INSTALLED_APPS в settings.py

3. Выполните миграции:
```bash
python manage.py migrate
```

## Использование

1. Создайте меню через админ-панель Django
2. Используйте тег в шаблоне:
```django
{% load tree_menu %}
{% draw_menu 'main_menu' %}
```

## Важные моменты

- **Имя меню** в теге должно совпадать с именем, указанным в админке (например, 'main_menu').
- **Пункты меню** должны иметь корректную иерархию: хотя бы один пункт должен быть корневым (parent: пусто/None). Пример:
  - О нас (parent: пусто, url: /about/)
    - Команда (parent: О нас, url: /about/team/)
- **Циклы в меню** (когда пункты ссылаются друг на друга как на родителя) приведут к тому, что меню не отобразится.
- **Поле url** — для явного указания пути (например, /about/). **Поле named_url** — для использования именованных маршрутов Django (например, 'about'). Если заполнены оба поля, приоритет у named_url.
- Если указано несуществующее имя маршрута в named_url, ссылка будет нерабочей (или fallback на url, если реализовано в get_url).


## Пример структуры меню

- Главная (parent: пусто, url: /)
- О нас (parent: пусто, url: /about/)
  - Команда (parent: О нас, url: /about/team/)
- Контакты (parent: пусто, url: /contacts/)

## Советы

- Для вложенности используйте поле parent.
- Для сортировки используйте поле порядок.
- Для named_url используйте только имена маршрутов, определённых в urls.py.

